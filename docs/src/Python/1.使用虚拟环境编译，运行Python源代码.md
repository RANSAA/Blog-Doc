# ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒç¼–è¯‘ï¼Œè¿è¡ŒPythonæºä»£ç 
åœ¨ä½¿ç”¨Pythoné¡¹ç›®æ—¶ï¼Œä¸€èˆ¬ä¼šä¾èµ–å¾ˆå¤šå¤–éƒ¨çš„è½¯ä»¶æˆ–è€…å®‰è£…åŒ…ã€‚ä½†æ˜¯ç›´æ¥ä½¿ç”¨Pythonå®‰è£…ä¼šæ±¡æŸ“ç³»ç»Ÿå®‰è£…çš„è½¯ä»¶ï¼Œ
è¿™æ—¶å°±éœ€è¦è™šæ‹Ÿç¯å¢ƒæ¥è¿è¡ŒPythonä»¥éš”ç»å¯¹ç³»ç»Ÿçš„æ±¡æŸ“ä»¥è¾¾åˆ°å®‰å…¨è¿è¡Œçš„ç›®çš„ã€‚

# è™šæ‹Ÿç¯å¢ƒçš„ä½¿ç”¨
1. åˆ›å»ºå¹¶è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
```
# åˆ›å»ºå¹¶è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate
```
2. å¯åœ¨venvè™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œä¾èµ–å®‰è£…ï¼Œä¾‹å¦‚ï¼š
```
# ä¾‹å¦‚ï¼šåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ç¼–è¯‘yt-dlp

# æ›´æ–°å·¥å…·åŒ…
python -m pip install --upgrade pip setuptools wheel

# å®‰è£…ä¾èµ–
python3 devscripts/install_deps.py --include pyinstaller

# æ„å»º
python3 devscripts/make_lazy_extractors.py
python3 -m bundle.pyinstaller
```
3. é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
```
# é€€å‡ºè™šæ‹Ÿç¯å¢ƒ
deactivate
```



# ä¸‹åˆ—æ˜¯ä¸€ä¸ªyt-dlpåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ç¼–è¯‘çš„ä¸€ä¸ªè„šæœ¬ç¤ºä¾‹
build-yt-dlp.sh
```
#!/usr/bin/env bash
set -euo pipefail

echo "ğŸš€ å¼€å§‹æ„å»º yt-dlpï¼ˆå®Œå…¨éš”ç¦»çš„è™šæ‹Ÿç¯å¢ƒï¼‰"
echo "----------------------------------------"


# # === [1] å…‹éš†æœ€æ–°æºç  ===
# if [ ! -d "yt-dlp" ]; then
#     echo "ğŸ”½ å…‹éš† yt-dlp æºç ..."
#     git clone https://github.com/yt-dlp/yt-dlp.git
# else
#     echo "â™»ï¸  æ›´æ–° yt-dlp æºç ..."
#     cd yt-dlp
#     git fetch origin
#     git pull
#     cd ..
# fi
# cd yt-dlp
# # å¯é€‰ï¼šåˆ‡æ¢åˆ°ç¨³å®š tagï¼ˆå»ºè®®ä¸å®˜æ–¹ Release ä¸€è‡´ï¼‰
# # git checkout 2025.10.07





# === [2] åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ ===
if [ -d "venv" ]; then
    echo "âš ï¸  å·²å­˜åœ¨ venv ç¯å¢ƒï¼Œåˆ é™¤æ—§çš„..."
    rm -rf venv
fi

echo "ğŸ§± åˆ›å»ºæ–°çš„ Python è™šæ‹Ÿç¯å¢ƒ..."
python3 -m venv venv
source venv/bin/activate

# === [3] å‡çº§åŸºç¡€å·¥å…· ===
echo "â¬†ï¸  å‡çº§ pipã€setuptoolsã€wheel..."
python -m pip install --upgrade pip setuptools wheel

# === [4] å®‰è£…æ„å»ºä¾èµ– ===
echo "ğŸ“¦ å®‰è£…å®˜æ–¹æ„å»ºä¾èµ–ï¼ˆåŒ…æ‹¬ pyinstallerï¼‰..."
python devscripts/install_deps.py --include pyinstaller

# === [5] ç”Ÿæˆæ‡’åŠ è½½æå–å™¨ ===
echo "ğŸ§© ç”Ÿæˆ lazy extractors..."
python devscripts/make_lazy_extractors.py

# === [6] æ‰“åŒ… ===
echo "ğŸ—ï¸ ä½¿ç”¨å®˜æ–¹ PyInstaller è„šæœ¬æ‰“åŒ…..."
python -m bundle.pyinstaller

# # æ„å»º arm64
# arch -arm64 python -m bundle.pyinstaller


# === [7] è¾“å‡ºç»“æœ ===
echo "âœ… æ„å»ºå®Œæˆï¼"
echo "ğŸ‘‰ å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„: $(pwd)/dist/"
ls -lh dist/



# echo "ğŸ‘‰ å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„: $(pwd)/dist/yt-dlp"
# file dist/yt-dlp_macos



# echo "ğŸ§¹ æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰"



# === [8] é€€å‡ºè™šæ‹Ÿç¯å¢ƒ ===
deactivate



echo "âœ…âœ…âœ… æ„å»ºå®Œæˆï¼âœ…âœ…âœ…"

```